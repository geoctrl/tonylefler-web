import { PropsTable } from "~/components/props-table/props-table";
import { Example } from "../../components/docs";
import { Toggle } from "./toggle";
import { useState } from "react";

export const meta = {
  title: 'Toggle',
  category: 'components',
  order: 12
};

# Toggle

A switch component for toggling between on and off states.

## Import

```tsx
import { Toggle } from "root";
```

## Basic Usage

<Example>
  {(() => {
    function Demo() {
      const [checked, setChecked] = useState(false);
      return (
        <div className="flex items-center gap-2">
          <Toggle checked={checked} onChangeValue={setChecked} />
          <span className="text-sm opacity-50">
            {checked ? "On" : "Off"}
          </span>
        </div>
      );
    }
    return <Demo />;
  })()}
</Example>

```tsx
const [checked, setChecked] = useState(false);

<Toggle checked={checked} onChangeValue={setChecked} />
```

## Sizes

<Example>
  {(() => {
    function Demo() {
      const [small, setSmall] = useState(false);
      const [medium, setMedium] = useState(true);
      const [large, setLarge] = useState(false);

      return (
        <div className="flex items-center gap-6">
          <div className="flex flex-col items-center gap-2">
            <Toggle formSize="sm" checked={small} onChangeValue={setSmall} />
            <span className="text-xs opacity-50">Small</span>
          </div>
          <div className="flex flex-col items-center gap-2">
            <Toggle formSize="md" checked={medium} onChangeValue={setMedium} />
            <span className="text-xs opacity-50">Medium</span>
          </div>
          <div className="flex flex-col items-center gap-2">
            <Toggle formSize="lg" checked={large} onChangeValue={setLarge} />
            <span className="text-xs opacity-50">Large</span>
          </div>
        </div>
      );
    }
    return <Demo />;
  })()}
</Example>

```tsx
<Toggle formSize="sm" checked={checked} onChangeValue={setChecked} />
<Toggle formSize="md" checked={checked} onChangeValue={setChecked} /> {/* default */}
<Toggle formSize="lg" checked={checked} onChangeValue={setChecked} />
```

## With Labels

<Example>
  {(() => {
    function Demo() {
      const [notifications, setNotifications] = useState(true);
      const [darkMode, setDarkMode] = useState(false);

      return (
        <div className="flex flex-col gap-4">
          <div className="flex items-center justify-between">
            <div>
              <div className="font-medium">Enable notifications</div>
              <div className="text-sm opacity-50">
                Receive email notifications for updates
              </div>
            </div>
            <Toggle checked={notifications} onChangeValue={setNotifications} />
          </div>
          <div className="flex items-center justify-between">
            <div>
              <div className="font-medium">Dark mode</div>
              <div className="text-sm opacity-50">
                Use dark theme across the application
              </div>
            </div>
            <Toggle checked={darkMode} onChangeValue={setDarkMode} />
          </div>
        </div>
      );
    }
    return <Demo />;
  })()}
</Example>

```tsx
<div className="flex items-center justify-between">
  <div>
    <div>Enable notifications</div>
    <div className="text-sm opacity-50">Description text</div>
  </div>
  <Toggle checked={checked} onChangeValue={setChecked} />
</div>
```

## In Forms

<Example>
  {(() => {
    function Demo() {
      const [settings, setSettings] = useState({
        autoSave: true,
        spellCheck: false,
        lineNumbers: true,
      });

      const handleToggle = (key) => (value) => {
        setSettings(prev => ({ ...prev, [key]: value }));
      };

      return (
        <div className="flex flex-col gap-3">
          <div className="flex items-center gap-3">
            <Toggle
              formSize="sm"
              checked={settings.autoSave}
              onChangeValue={handleToggle('autoSave')}
            />
            <label className="text-sm">Auto-save</label>
          </div>
          <div className="flex items-center gap-3">
            <Toggle
              formSize="sm"
              checked={settings.spellCheck}
              onChangeValue={handleToggle('spellCheck')}
            />
            <label className="text-sm">Spell check</label>
          </div>
          <div className="flex items-center gap-3">
            <Toggle
              formSize="sm"
              checked={settings.lineNumbers}
              onChangeValue={handleToggle('lineNumbers')}
            />
            <label className="text-sm">Show line numbers</label>
          </div>
        </div>
      );
    }
    return <Demo />;
  })()}
</Example>

```tsx
<div className="flex items-center gap-3">
  <Toggle
    formSize="sm"
    checked={settings.autoSave}
    onChangeValue={(value) => handleChange('autoSave', value)}
  />
  <label>Auto-save</label>
</div>
```

## Controlled State

<Example>
  {(() => {
    function Demo() {
      const [enabled, setEnabled] = useState(false);
      const [clickCount, setClickCount] = useState(0);

      const handleChange = (value) => {
        setEnabled(value);
        setClickCount(prev => prev + 1);
      };

      return (
        <div className="flex flex-col gap-3">
          <div className="flex items-center gap-3">
            <Toggle checked={enabled} onChangeValue={handleChange} />
            <span className="text-sm">Feature {enabled ? 'enabled' : 'disabled'}</span>
          </div>
          <div className="text-xs opacity-50">
            Toggled {clickCount} times
          </div>
        </div>
      );
    }
    return <Demo />;
  })()}
</Example>

```tsx
const [enabled, setEnabled] = useState(false);
const [clickCount, setClickCount] = useState(0);

const handleChange = (value) => {
  setEnabled(value);
  setClickCount(prev => prev + 1);
};

<Toggle checked={enabled} onChangeValue={handleChange} />
```

## Props

`<Toggle>` accepts all standard HTML input attributes and the following:

<PropsTable props={[
  {
    name: "checked",
    type: "boolean",
    description: "Whether the toggle is in the on state",
    required: true,
  },
  {
    name: "onChangeValue",
    type: "(checked: boolean) => void",
    description: "Callback fired when the toggle state changes, receives the new checked value",
    required: false,
  },
  {
    name: "onChange",
    type: "ChangeEventHandler<HTMLInputElement>",
    description: "Standard input change event handler, receives the full event object",
    required: false,
  },
  {
    name: "formSize",
    type: '"sm" | "md" | "lg"',
    description: "Size of the toggle",
    default: '"md"',
    required: false,
  },
  {
    name: "wrapperProps",
    type: "ComponentProps<\"div\">",
    description: "Props to pass to the wrapper div element",
    required: false,
  },
  {
    name: "className",
    type: "string",
    description: "CSS classes to apply to the input element",
    required: false,
  },
  {
    name: "disabled",
    type: "boolean",
    description: "Disables the toggle",
    required: false,
  },
]} />

## Accessibility

- Uses semantic `<input type="checkbox">` for proper form behavior
- Keyboard accessible (Space/Enter to toggle)
- Focus visible with proper focus states
- Works with form submission
- Screen reader compatible
